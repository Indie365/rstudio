pipeline {
  agent {
    dockerfile {
      filename 'Dockerfile.dispatcher'
      label 'linux && amd64'
    }
  }
  
  parameters {
    gitParameter 
    branch: '',
    branchFilter: '.*',
    defaultValue: "origin/${env.BRANCH_NAME}",
    name: 'COMMIT_HASH',
    quickFilterEnabled: false,
    selectedValue: 'NONE',
    sortMode: 'NONE',
    tagFilter: '*',
    type: 'PT_REVISION'
  }


  stages {
    stage ("Define Variables") {
      steps {
        echo "Commit_hash value: ${COMMIT_HASH}"
      }
    }
  }
}