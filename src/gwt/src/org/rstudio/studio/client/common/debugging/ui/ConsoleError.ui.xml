<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
   xmlns:rw='urn:import:org.rstudio.core.client.widget'
   xmlns:g="urn:import:com.google.gwt.user.client.ui">
   <ui:style type="org.rstudio.studio.client.common.debugging.ui.ConsoleError.ConsoleErrorStyle">
   @eval proportionalFont org.rstudio.core.client.theme.ThemeFonts.getProportionalFont();
   
   .consoleErrorBox {
      overflow: visible;
      margin: 5px 5px 5px 0px;
      padding: 5px 0px 5px 15px;
      white-space: pre-line;
      border-left: 5px solid red;
   }

   .consoleErrorCommands {
      position: absolute;
      right: 10px;

      margin-right: 10px;
      margin-top: -2em;
      line-height: 80%;
      user-select: none;
      -ms-user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
      font-size: 80%;
   }
   
   .errorCommandText {
      font-family: proportionalFont;
      opacity: 0.50;
      cursor: pointer;
   }
   
   .errorCommandText:hover {
      opacity: 1;
   }
   
   .errorCommandImage {
      cursor: pointer;
      width: 9px !important;
      height: 9px !important;
   }
   
   .errorMessage {
      word-wrap: break-word;
      word-break: break-word;
   }

   .errorMessage:before {
      content: "";
      margin-left: -0.6em;
   }
   
   .framePanel {
      margin-top: 1em;
      margin-left: 2em;
      white-space: pre;
      font-size: smaller;
      opacity: 0.7;
   }

   .tracebackLink {
      font-family: proportionalFont;
      opacity: 0.50;
      cursor: pointer;
   }

   .tracebackLink:hover {
      opacity: 1;
   }

   .tracebackLinkSelected {
      opacity: 1;
   }

   </ui:style>
   <ui:image src="traceback_2x.png"
             width="9"
             height="9"
             field="traceback"></ui:image>
   <ui:image src="rerun_2x.png"
             width="9"
             height="9"
             field="rerun"></ui:image>
   <g:HTMLPanel styleName="{style.consoleErrorBox} ace_console_error">

      <g:HTMLPanel styleName="{style.consoleErrorCommands}" ui:field="tracebackLinks" >
         Traceback:
         <g:Anchor ui:field="tracebackLinkFull" styleName="{style.tracebackLink} traceback_full">tree</g:Anchor>
         <g:Anchor ui:field="tracebackLinkBranch" styleName="{style.tracebackLink} traceback_branch">list</g:Anchor>
         <g:Anchor ui:field="tracebackLinkHide" styleName="{style.tracebackLink} traceback_hide">hide</g:Anchor>

         <rw:DecorativeImage resource="{rerun}"
                  ui:field="rerunImage"
                  width="9"
                  height="9"
                  styleName="{style.errorCommandImage} rerun_image"/>
         <g:Anchor styleName="{style.errorCommandText} rerun_text" ui:field="rerunText">
            Rerun with Debug
         </g:Anchor>
     </g:HTMLPanel>

      <g:HTML ui:field="errorMessage" styleName="{style.errorMessage}"></g:HTML>
      
      <g:HTMLPanel ui:field="framePanel" visible="false" styleName="{style.framePanel}">
         <g:HTMLPanel ui:field="tracebackFull" visible="false"></g:HTMLPanel>
         <g:HTMLPanel ui:field="tracebackBranch" visible="false"></g:HTMLPanel>
      </g:HTMLPanel>
   </g:HTMLPanel>
</ui:UiBinder> 
